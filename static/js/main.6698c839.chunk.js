(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{13:function(e,t,a){e.exports={pagination:"PagesNavigator_pagination__TNgZ4",pagination__title:"PagesNavigator_pagination__title__1AHGw",pagination__etc:"PagesNavigator_pagination__etc__2Mfwg",pagination__btnWrap:"PagesNavigator_pagination__btnWrap__2kz94",pagination__centerBtnsContainer:"PagesNavigator_pagination__centerBtnsContainer__3BZfZ",pagination__btn:"PagesNavigator_pagination__btn__1TLq4",pagination__btn_selected:"PagesNavigator_pagination__btn_selected__1giDP"}},14:function(e,t,a){e.exports={characterList:"CharactersList_characterList__2yhOA",characterList__contentContainer:"CharactersList_characterList__contentContainer__3BHYp",characterList__image:"CharactersList_characterList__image__350X7",characterList__aliveStatus__dead:"CharactersList_characterList__aliveStatus__dead__2Ilp5",characterList__aliveStatus__alive:"CharactersList_characterList__aliveStatus__alive__3muIi",characterList__aliveStatus__unknown:"CharactersList_characterList__aliveStatus__unknown__9w2D9"}},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),s=a.n(r),i=a(18),o=a(9),l=a(2),u=a(7),d=a(4),_=a(12),h=a.n(_),j=a(29),p=a.n(j),b=a(30),f=a.n(b),v=function(){return Object(i.b)()},O=i.c,g=a(5),m=a.n(g),x=a(10),C=a(11),L="https://rickandmortyapi.com/api",N=function(){var e=Object(x.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/character/?page=").concat(t));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(x.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/character/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(x.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/character/?name=").concat(t));case 2:if(!(a=e.sent).ok){e.next=5;break}return e.abrupt("return",a.json());case 5:throw new Error("no mathches");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=Object(C.b)("characterDetails/fetchUserPostsById",function(){var e=Object(x.a)(m.a.mark((function e(t,a){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.dispatch)(P(!0)),e.next=4,y(t);case 4:return c=e.sent,n(P(!1)),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),S=Object(C.c)({name:"listOfPosts",initialState:{selectedCharacter:null,isDetailsLoading:!0},reducers:{setSelectedCharacter:function(e,t){e.selectedCharacter=t.payload},setIsDetailsLoading:function(e,t){e.isDetailsLoading=t.payload}},extraReducers:function(e){e.addCase(k.fulfilled,(function(e,t){e.selectedCharacter=t.payload}))}}),w=S.actions,P=(w.setSelectedCharacter,w.setIsDetailsLoading),I=function(e){return e.characterDetails.selectedCharacter},B=function(e){return e.characterDetails.isDetailsLoading},E=S.reducer,F=a(8),T=a.n(F),A=a(1),H=c.a.memo((function(e){var t=e.charId,a=v(),c=O(B),r=O(I),s=Object(l.g)();return Object(n.useEffect)((function(){a(k(t))}),[]),Object(A.jsx)(A.Fragment,{children:c&&r?Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)("div",{className:"spinner-border",role:"status",children:Object(A.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:T.a.charDescription,children:[Object(A.jsx)("h1",{className:T.a.charDescription__title,children:null===r||void 0===r?void 0:r.name}),Object(A.jsxs)("div",{className:T.a.charDescription__content,children:[Object(A.jsx)("img",{src:null===r||void 0===r?void 0:r.image,alt:"Character",className:T.a.charDescription__image}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Species:"}),"\xa0",null===r||void 0===r?void 0:r.species]}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Gender:"}),"\xa0",null===r||void 0===r?void 0:r.gender]}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Location:"}),"\xa0",null===r||void 0===r?void 0:r.location.name]}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Episodes:"}),"\xa0"]}),Object(A.jsx)("div",{className:h()(T.a.charDescription__listEpisodes),children:null===r||void 0===r?void 0:r.episode.map((function(e){return Object(A.jsx)("div",{className:T.a.charDescription__listEpisodes_item,children:e.split("/")[5]},e)}))}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Status:"}),"\xa0",Object(A.jsx)("span",{className:h()("characterList__aliveStatus",Object(u.a)({},T.a.characterList__aliveStatus__alive,"Alive"===(null===r||void 0===r?void 0:r.status)),Object(u.a)({},T.a.characterList__aliveStatus__dead,"Dead"===(null===r||void 0===r?void 0:r.status)),Object(u.a)({},T.a.characterList__aliveStatus__unknown,"unknown"===(null===r||void 0===r?void 0:r.status))),children:null===r||void 0===r?void 0:r.status})]}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Created:"}),"\xa0",null===r||void 0===r?void 0:r.created]})]})]}),Object(A.jsx)("button",{type:"button",className:h()("btn-close btn-close-red",T.a.closeBtn),onClick:function(){s(-1)},"aria-label":"Close"})]})})})),M=Object(C.b)("listOfChars/loadCharactersPage",function(){var e=Object(x.a)(m.a.mark((function e(t,a){var n,c,r,s,i,o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,N(t);case 3:return c=e.sent,r=c.info,s=r.count,i=r.next,o=r.prev,l=r.pages,n(z(l)),n(J(s)),n(K(i)),n(Z(o)),n(U(!1)),e.abrupt("return",c.results);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),W=Object(C.b)("listOfChars/loadFilteredByNameChars",function(){var e=Object(x.a)(m.a.mark((function e(t,a){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.dispatch)(Q(!0)),e.prev=2,e.next=5,D(t);case 5:return c=e.sent,e.abrupt("return",c.results);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",[]);case 12:return e.prev=12,n(Q(!1)),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t,a){return e.apply(this,arguments)}}()),R=Object(C.c)({name:"listOfPosts",initialState:{isFilterLoading:!1,filteredByNameChars:[],charactersPage:[],isListLoading:!0,pagesTotal:0,count:0,next:null,prev:null},reducers:{setCharacters:function(e,t){e.charactersPage=t.payload},setIsListLoading:function(e,t){e.isListLoading=t.payload},setPagesTotal:function(e,t){e.pagesTotal=t.payload},setNext:function(e,t){e.next=t.payload},setPrev:function(e,t){e.prev=t.payload},setCount:function(e,t){e.count=t.payload},setIsFilterLoading:function(e,t){e.isFilterLoading=t.payload},setFilteredByNameChars:function(e,t){e.filteredByNameChars=t.payload}},extraReducers:function(e){e.addCase(M.fulfilled,(function(e,t){e.charactersPage=t.payload})).addCase(W.fulfilled,(function(e,t){e.filteredByNameChars=t.payload}))}}),G=R.actions,U=(G.setCharacters,G.setIsListLoading),z=G.setPagesTotal,K=G.setNext,Z=G.setPrev,J=G.setCount,Q=G.setIsFilterLoading,X=G.setFilteredByNameChars,q=function(e){return e.listOfChars.charactersPage},V=function(e){return e.listOfChars.isListLoading},Y=function(e){return e.listOfChars.pagesTotal},$=function(e){return e.listOfChars.filteredByNameChars},ee=function(e){return e.listOfChars.isFilterLoading},te=R.reducer,ae=a(31),ne=a.n(ae),ce=a(13),re=a.n(ce),se=Object(n.memo)((function(){var e=Object(l.g)(),t=O(Y),a=new URLSearchParams(Object(l.f)().search),c=parseInt(a.get("page")||"1"),r=Object(n.useState)(!1),s=Object(d.a)(r,2),i=s[0],o=s[1],_=Object(n.useState)(!1),j=Object(d.a)(_,2),p=j[0],b=j[1],f=Object(n.useMemo)((function(){return function(e,t){for(var a=[],n=Math.max(2,e-1),c=Math.min(t-1,e+1),r=n;r<=c;r+=1)a.push(r);return e-1>2&&a.unshift("..."),e+1<t-1&&a.push("..."),1!==t&&a.push(t),a.unshift(1),a.map((function(e){return{value:e,key:ne.a.generate()}}))}(c,t)}),[t,c]);Object(n.useEffect)((function(){b(!(c>1)),o(c===t)}),[c]);var v=Object(n.useCallback)((function(t){var n=(t-1).toString();a.set("page",n),e("?page=".concat(n))}),[e]),g=Object(n.useCallback)((function(t){var n=(t+1).toString();a.set("page",n),e("?page=".concat(n))}),[]),m=Object(n.useCallback)((function(t){var n=t.toString();a.set("page",n),e("?page=".concat(n))}),[]);return Object(A.jsx)("div",{className:re.a.pagination,children:Object(A.jsxs)("div",{className:re.a.pagination__btnWrap,children:[Object(A.jsx)("button",{className:re.a.pagination__btn,disabled:p,type:"button",onClick:function(){v(c)},children:"\xab"}),Object(A.jsx)("div",{className:re.a.pagination__centerBtnsContainer,children:f.map((function(e){return"..."===e.value?Object(A.jsx)("p",{className:"pagination__etc",children:e.value},e.key):Object(A.jsx)("button",{className:h()(re.a.pagination__btn,Object(u.a)({},re.a.pagination__btn_selected,e.value===c)),type:"button",onClick:function(){m(e.value)},children:e.value},e.key)}))}),Object(A.jsx)("button",{className:re.a.pagination__btn,disabled:i,type:"button",onClick:function(){g(c)},children:"\xbb"})]})})})),ie=a(14),oe=a.n(ie),le=c.a.memo((function(){var e=Object(l.h)().charId,t=new URLSearchParams(Object(l.f)().search).get("page")||"1",a=Object(l.g)(),c=v(),r=O(V),s=O(ee),i=O($),o=O(q),_=Object(n.useState)(""),j=Object(d.a)(_,2),b=j[0],g=j[1],m=Object(n.useCallback)((function(e){a("/list/".concat(e))}),[]),x=Object(n.useCallback)(f()((function(e){c(e?W(e):X([]))}),100),[]);return Object(n.useEffect)((function(){c(M(t))}),[t]),e?Object(A.jsx)(H,{charId:e}):Object(A.jsx)("div",{className:"container-xl",children:r?Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)("div",{className:"spinner-border",role:"status",children:Object(A.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h1",{className:"d-flex justify-content-center",children:"Characters List"}),Object(A.jsxs)("div",{className:"container d-flex pb-4",children:[Object(A.jsx)(p.a,{getItemValue:function(e){return e.name},items:i,renderItem:function(e,t){return Object(A.jsx)("div",{style:{background:t?"lightgray":"white"},children:e.name},e.id)},value:b,onChange:function(e){var t=e.target;g(t.value),x(t.value)},onSelect:function(e,t){g(""),x(""),m(t.id.toString())}}),s&&Object(A.jsxs)("div",{className:"d-flex align-items-center",children:[Object(A.jsx)("strong",{children:"Loading..."}),Object(A.jsx)("div",{className:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"})]})]}),Object(A.jsxs)("div",{className:"container",children:[Object(A.jsx)("ul",{className:oe.a.characterList,children:o.map((function(e){return Object(A.jsx)("li",{children:Object(A.jsxs)("div",{className:oe.a.characterList__contentContainer,onClick:function(){return m(e.id.toString())},children:[Object(A.jsx)("img",{className:oe.a.characterList__image,src:e.image,alt:"Character"}),Object(A.jsx)("h3",{children:e.name}),Object(A.jsx)("p",{className:h()("characterList__aliveStatus",Object(u.a)({},oe.a.characterList__aliveStatus__alive,"Alive"===e.status),Object(u.a)({},oe.a.characterList__aliveStatus__dead,"Dead"===e.status),Object(u.a)({},oe.a.characterList__aliveStatus__unknown,"unknown"===e.status)),children:e.status})]})},e.id)}))}),Object(A.jsx)(se,{})]})]})})})),ue=c.a.memo((function(){return Object(A.jsx)(le,{})})),de=c.a.memo((function(){return Object(A.jsxs)("div",{className:"container text-center home-page",children:[Object(A.jsx)("h1",{className:"p-b-4",children:"Home Page"}),Object(A.jsx)("h2",{children:"Created by Misha Kravtsov"})]})})),_e=c.a.memo((function(){return Object(A.jsx)("div",{className:"container text-center",children:Object(A.jsx)("h1",{children:"NOT FOUND PAGE"})})})),he=c.a.memo((function(){return Object(A.jsx)("nav",{children:Object(A.jsxs)("ul",{className:"nav nav-pills justify-content-center navbar-inverse",children:[Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(o.b,{to:"/home",className:"nav-link",children:"Home page"})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(o.b,{to:"/list",className:"nav-link",children:"List of characters"})})]})})})),je=function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(he,{}),Object(A.jsxs)(l.d,{children:[Object(A.jsx)(l.b,{path:"/",element:Object(A.jsx)(l.a,{to:"/home",replace:!0})}),Object(A.jsx)(l.b,{path:"/home",element:Object(A.jsx)(de,{})}),Object(A.jsx)(l.b,{path:"/list/*",element:Object(A.jsx)(ue,{}),children:Object(A.jsx)(l.b,{path:":charId",element:Object(A.jsx)(ue,{})})}),Object(A.jsx)(l.b,{path:"*",element:Object(A.jsx)(_e,{})})]})]})},pe=Object(C.a)({reducer:{listOfChars:te,characterDetails:E}});a(67);s.a.render(Object(A.jsx)(o.a,{children:Object(A.jsx)(i.a,{store:pe,children:Object(A.jsx)(n.StrictMode,{children:Object(A.jsx)(je,{})})})}),document.getElementById("root"))},8:function(e,t,a){e.exports={characterList:"CharDescription_characterList__32S5z",characterList__contentContainer:"CharDescription_characterList__contentContainer__2ahnS",characterList__image:"CharDescription_characterList__image__1gEk6",characterList__aliveStatus__dead:"CharDescription_characterList__aliveStatus__dead__3jWWd",characterList__aliveStatus__alive:"CharDescription_characterList__aliveStatus__alive__1uHks",characterList__aliveStatus__unknown:"CharDescription_characterList__aliveStatus__unknown__g2g-_",charDescription:"CharDescription_charDescription__1jKH5",charDescription__content:"CharDescription_charDescription__content__3IQKW",charDescription__image:"CharDescription_charDescription__image__1DP6R",charDescription__listEpisodes:"CharDescription_charDescription__listEpisodes__3yQI4",charDescription__listEpisodes_item:"CharDescription_charDescription__listEpisodes_item__1-zxX",closeBtn:"CharDescription_closeBtn__3G5Av"}}},[[68,1,2]]]);
//# sourceMappingURL=main.6698c839.chunk.js.map