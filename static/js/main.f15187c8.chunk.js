(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{13:function(t,e,a){t.exports={pagination:"PagesNavigator_pagination__TNgZ4",pagination__title:"PagesNavigator_pagination__title__1AHGw",pagination__etc:"PagesNavigator_pagination__etc__2Mfwg",pagination__btnWrap:"PagesNavigator_pagination__btnWrap__2kz94",pagination__centerBtnsContainer:"PagesNavigator_pagination__centerBtnsContainer__3BZfZ",pagination__btn:"PagesNavigator_pagination__btn__1TLq4",pagination__btn_selected:"PagesNavigator_pagination__btn_selected__1giDP"}},14:function(t,e,a){t.exports={characterList:"CharactersList_characterList__2yhOA",characterList__contentContainer:"CharactersList_characterList__contentContainer__3BHYp",characterList__image:"CharactersList_characterList__image__350X7",characterList__aliveStatus__dead:"CharactersList_characterList__aliveStatus__dead__2Ilp5",characterList__aliveStatus__alive:"CharactersList_characterList__aliveStatus__alive__3muIi",characterList__aliveStatus__unknown:"CharactersList_characterList__aliveStatus__unknown__9w2D9"}},67:function(t,e,a){},68:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),r=a(16),s=a.n(r),i=a(18),o=a(9),l=a(2),u=a(7),_=a(4),d=a(12),h=a.n(d),j=a(29),p=a.n(j),b=a(30),f=a.n(b),O=function(){return Object(i.b)()},v=i.c,g=a(5),m=a.n(g),x=a(10),C=a(11),L="https://rickandmortyapi.com/api",N=function(){var t=Object(x.a)(m.a.mark((function t(e){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(L,"/character/?page=").concat(e));case 2:return a=t.sent,t.abrupt("return",a.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(x.a)(m.a.mark((function t(e){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(L,"/character/").concat(e));case 2:return a=t.sent,t.abrupt("return",a.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(x.a)(m.a.mark((function t(e){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(L,"/character/?name=").concat(e));case 2:return a=t.sent,t.abrupt("return",a.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=Object(C.b)("characterDetails/fetchUserPostsById",function(){var t=Object(x.a)(m.a.mark((function t(e,a){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=a.dispatch)(P(!0)),t.next=4,y(e);case 4:return c=t.sent,n(P(!1)),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),k=Object(C.c)({name:"listOfPosts",initialState:{selectedCharacter:null,isDetailsLoading:!0},reducers:{setSelectedCharacter:function(t,e){t.selectedCharacter=e.payload},setIsDetailsLoading:function(t,e){t.isDetailsLoading=e.payload}},extraReducers:function(t){t.addCase(S.fulfilled,(function(t,e){t.selectedCharacter=e.payload}))}}),w=k.actions,P=(w.setSelectedCharacter,w.setIsDetailsLoading),I=function(t){return t.characterDetails.selectedCharacter},B=function(t){return t.characterDetails.isDetailsLoading},E=k.reducer,F=a(8),T=a.n(F),A=a(1),H=c.a.memo((function(t){var e=t.charId,a=O(),c=v(B),r=v(I),s=Object(l.g)();return Object(n.useEffect)((function(){a(S(e))}),[]),Object(A.jsx)(A.Fragment,{children:c&&r?Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)("div",{className:"spinner-border",role:"status",children:Object(A.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:T.a.charDescription,children:[Object(A.jsx)("h1",{className:T.a.charDescription__title,children:null===r||void 0===r?void 0:r.name}),Object(A.jsxs)("div",{className:T.a.charDescription__content,children:[Object(A.jsx)("img",{src:null===r||void 0===r?void 0:r.image,alt:"Character",className:T.a.charDescription__image}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Species:"}),"\xa0",null===r||void 0===r?void 0:r.species]}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Gender:"}),"\xa0",null===r||void 0===r?void 0:r.gender]}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Location:"}),"\xa0",null===r||void 0===r?void 0:r.location.name]}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Episodes:"}),"\xa0"]}),Object(A.jsx)("div",{className:h()(T.a.charDescription__listEpisodes),children:null===r||void 0===r?void 0:r.episode.map((function(t){return Object(A.jsx)("div",{className:T.a.charDescription__listEpisodes_item,children:t.split("/")[5]},t)}))}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Status:"}),"\xa0",Object(A.jsx)("span",{className:h()("characterList__aliveStatus",Object(u.a)({},T.a.characterList__aliveStatus__alive,"Alive"===(null===r||void 0===r?void 0:r.status)),Object(u.a)({},T.a.characterList__aliveStatus__dead,"Dead"===(null===r||void 0===r?void 0:r.status)),Object(u.a)({},T.a.characterList__aliveStatus__unknown,"unknown"===(null===r||void 0===r?void 0:r.status))),children:null===r||void 0===r?void 0:r.status})]}),Object(A.jsxs)("p",{children:[Object(A.jsx)("strong",{children:"Created:"}),"\xa0",null===r||void 0===r?void 0:r.created]})]})]}),Object(A.jsx)("button",{type:"button",className:h()("btn-close btn-close-red",T.a.closeBtn),onClick:function(){s(-1)},"aria-label":"Close"})]})})})),M=Object(C.b)("listOfChars/loadCharactersPage",function(){var t=Object(x.a)(m.a.mark((function t(e,a){var n,c,r,s,i,o,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.dispatch,t.next=3,N(e);case 3:return c=t.sent,r=c.info,s=r.count,i=r.next,o=r.prev,l=r.pages,n(z(l)),n(J(s)),n(K(i)),n(Z(o)),n(U(!1)),t.abrupt("return",c.results);case 11:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),W=Object(C.b)("listOfChars/loadFilteredByNameChars",function(){var t=Object(x.a)(m.a.mark((function t(e,a){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=a.dispatch)(Q(!0)),t.next=4,D(e);case 4:if(c=t.sent,n(Q(!0)),!c.error){t.next=8;break}return t.abrupt("return",[]);case 8:return t.abrupt("return",c.results);case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),R=Object(C.c)({name:"listOfPosts",initialState:{isFilterLoading:!1,filteredByNameChars:[],charactersPage:[],isListLoading:!0,pagesTotal:0,count:0,next:null,prev:null},reducers:{setCharacters:function(t,e){t.charactersPage=e.payload},setIsListLoading:function(t,e){t.isListLoading=e.payload},setPagesTotal:function(t,e){t.pagesTotal=e.payload},setNext:function(t,e){t.next=e.payload},setPrev:function(t,e){t.prev=e.payload},setCount:function(t,e){t.count=e.payload},setIsFilterLoading:function(t,e){t.isFilterLoading=e.payload},setFilteredByNameChars:function(t,e){t.filteredByNameChars=e.payload}},extraReducers:function(t){t.addCase(M.fulfilled,(function(t,e){t.charactersPage=e.payload})).addCase(W.fulfilled,(function(t,e){t.filteredByNameChars=e.payload}))}}),G=R.actions,U=(G.setCharacters,G.setIsListLoading),z=G.setPagesTotal,K=G.setNext,Z=G.setPrev,J=G.setCount,Q=G.setIsFilterLoading,X=G.setFilteredByNameChars,q=function(t){return t.listOfChars.charactersPage},V=function(t){return t.listOfChars.isListLoading},Y=function(t){return t.listOfChars.pagesTotal},$=function(t){return t.listOfChars.filteredByNameChars},tt=R.reducer,et=a(31),at=a.n(et),nt=a(13),ct=a.n(nt),rt=Object(n.memo)((function(){var t=Object(l.g)(),e=v(Y),a=new URLSearchParams(Object(l.f)().search),c=parseInt(a.get("page")||"1"),r=Object(n.useState)(!1),s=Object(_.a)(r,2),i=s[0],o=s[1],d=Object(n.useState)(!1),j=Object(_.a)(d,2),p=j[0],b=j[1],f=Object(n.useMemo)((function(){return function(t,e){for(var a=[],n=Math.max(2,t-1),c=Math.min(e-1,t+1),r=n;r<=c;r+=1)a.push(r);return t-1>2&&a.unshift("..."),t+1<e-1&&a.push("..."),1!==e&&a.push(e),a.unshift(1),a.map((function(t){return{value:t,key:at.a.generate()}}))}(c,e)}),[e,c]);Object(n.useEffect)((function(){b(!(c>1)),o(c===e)}),[c]);var O=Object(n.useCallback)((function(e){var n=(e-1).toString();a.set("page",n),t("?page=".concat(n))}),[t]),g=Object(n.useCallback)((function(e){var n=(e+1).toString();a.set("page",n),t("?page=".concat(n))}),[]),m=Object(n.useCallback)((function(e){var n=e.toString();a.set("page",n),t("?page=".concat(n))}),[]);return Object(A.jsx)("div",{className:ct.a.pagination,children:Object(A.jsxs)("div",{className:ct.a.pagination__btnWrap,children:[Object(A.jsx)("button",{className:ct.a.pagination__btn,disabled:p,type:"button",onClick:function(){O(c)},children:"\xab"}),Object(A.jsx)("div",{className:ct.a.pagination__centerBtnsContainer,children:f.map((function(t){return"..."===t.value?Object(A.jsx)("p",{className:"pagination__etc",children:t.value},t.key):Object(A.jsx)("button",{className:h()(ct.a.pagination__btn,Object(u.a)({},ct.a.pagination__btn_selected,t.value===c)),type:"button",onClick:function(){m(t.value)},children:t.value},t.key)}))}),Object(A.jsx)("button",{className:ct.a.pagination__btn,disabled:i,type:"button",onClick:function(){g(c)},children:"\xbb"})]})})})),st=a(14),it=a.n(st),ot=c.a.memo((function(){var t=Object(l.h)().charId,e=new URLSearchParams(Object(l.f)().search).get("page")||"1",a=Object(l.g)(),c=O(),r=v(V),s=v($),i=v(q),o=Object(n.useState)(""),d=Object(_.a)(o,2),j=d[0],b=d[1],g=Object(n.useCallback)((function(t){a("/list/".concat(t))}),[]),m=Object(n.useCallback)(f()((function(t){c(t?W(t):X([]))}),100),[]);return Object(n.useEffect)((function(){c(M(e))}),[e]),t?Object(A.jsx)(H,{charId:t}):Object(A.jsx)("div",{className:"container-xl",children:r?Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)("div",{className:"spinner-border",role:"status",children:Object(A.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h1",{className:"d-flex justify-content-center",children:"Characters List"}),Object(A.jsx)("div",{className:"pb-4",children:Object(A.jsx)(p.a,{getItemValue:function(t){return t.name},items:s,renderItem:function(t,e){return Object(A.jsx)("div",{style:{background:e?"lightgray":"white"},children:t.name},t.id)},value:j,onChange:function(t){var e=t.target;b(e.value),m(e.value)},onSelect:function(t,e){b(""),m(""),g(e.id.toString())}})}),Object(A.jsx)("ul",{className:it.a.characterList,children:i.map((function(t){return Object(A.jsx)("li",{children:Object(A.jsxs)("div",{className:it.a.characterList__contentContainer,onClick:function(){return g(t.id.toString())},children:[Object(A.jsx)("img",{className:it.a.characterList__image,src:t.image,alt:"Character"}),Object(A.jsx)("h3",{children:t.name}),Object(A.jsx)("p",{className:h()("characterList__aliveStatus",Object(u.a)({},it.a.characterList__aliveStatus__alive,"Alive"===t.status),Object(u.a)({},it.a.characterList__aliveStatus__dead,"Dead"===t.status),Object(u.a)({},it.a.characterList__aliveStatus__unknown,"unknown"===t.status)),children:t.status})]})},t.id)}))}),Object(A.jsx)(rt,{})]})})})),lt=c.a.memo((function(){return Object(A.jsx)(ot,{})})),ut=c.a.memo((function(){return Object(A.jsxs)("div",{className:"container text-center home-page",children:[Object(A.jsx)("h1",{className:"p-b-4",children:"Home Page"}),Object(A.jsx)("h2",{children:"Created by Misha Kravtsov"})]})})),_t=c.a.memo((function(){return Object(A.jsx)("div",{className:"container text-center",children:Object(A.jsx)("h1",{children:"NOT FOUND PAGE"})})})),dt=c.a.memo((function(){return Object(A.jsx)("nav",{children:Object(A.jsxs)("ul",{className:"nav nav-pills justify-content-center navbar-inverse",children:[Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(o.b,{to:"/home",className:"nav-link",children:"Home page"})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(o.b,{to:"/list",className:"nav-link",children:"List of characters"})})]})})})),ht=function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(dt,{}),Object(A.jsxs)(l.d,{children:[Object(A.jsx)(l.b,{path:"/",element:Object(A.jsx)(l.a,{to:"/home",replace:!0})}),Object(A.jsx)(l.b,{path:"/home",element:Object(A.jsx)(ut,{})}),Object(A.jsx)(l.b,{path:"/list/*",element:Object(A.jsx)(lt,{}),children:Object(A.jsx)(l.b,{path:":charId",element:Object(A.jsx)(lt,{})})}),Object(A.jsx)(l.b,{path:"*",element:Object(A.jsx)(_t,{})})]})]})},jt=Object(C.a)({reducer:{listOfChars:tt,characterDetails:E}});a(67);s.a.render(Object(A.jsx)(o.a,{children:Object(A.jsx)(i.a,{store:jt,children:Object(A.jsx)(n.StrictMode,{children:Object(A.jsx)(ht,{})})})}),document.getElementById("root"))},8:function(t,e,a){t.exports={characterList:"CharDescription_characterList__32S5z",characterList__contentContainer:"CharDescription_characterList__contentContainer__2ahnS",characterList__image:"CharDescription_characterList__image__1gEk6",characterList__aliveStatus__dead:"CharDescription_characterList__aliveStatus__dead__3jWWd",characterList__aliveStatus__alive:"CharDescription_characterList__aliveStatus__alive__1uHks",characterList__aliveStatus__unknown:"CharDescription_characterList__aliveStatus__unknown__g2g-_",charDescription:"CharDescription_charDescription__1jKH5",charDescription__content:"CharDescription_charDescription__content__3IQKW",charDescription__image:"CharDescription_charDescription__image__1DP6R",charDescription__listEpisodes:"CharDescription_charDescription__listEpisodes__3yQI4",charDescription__listEpisodes_item:"CharDescription_charDescription__listEpisodes_item__1-zxX",closeBtn:"CharDescription_closeBtn__3G5Av"}}},[[68,1,2]]]);
//# sourceMappingURL=main.f15187c8.chunk.js.map